{"ast":null,"code":"import _regeneratorRuntime from \"/Users/kaka/Desktop/my-expenses/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport { CREATE_CATEGORY, CATEGORY_ERROR, GET_CATEGORIES } from \"./types\";\nexport var createCategoryAsync = function createCategoryAsync(serverCall, doneCallback) {\n  var messageCallback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (succeed, message) {};\n  return function _callee(dispatch) {\n    var response, error;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(serverCall());\n\n          case 3:\n            response = _context.sent;\n            messageCallback(response.data.succeed, response.data.message);\n\n            if (!response.data.succeed) {\n              dispatch({\n                type: CATEGORY_ERROR,\n                payload: response.data.message\n              });\n            } else {\n              dispatch({\n                type: CREATE_CATEGORY,\n                payload: response.data.content\n              });\n              doneCallback();\n            }\n\n            _context.next = 13;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            error = \"Something went wrong. Please try again later.\";\n            dispatch({\n              type: CATEGORY_ERROR,\n              payload: error\n            });\n            messageCallback(false, error);\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 8]]);\n  };\n};\nexport var getCategoriesAsync = function getCategoriesAsync(serverCall, doneCallback) {\n  var messageCallback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (succeed, message) {};\n  return function _callee2(dispatch) {\n    var response, error;\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(serverCall());\n\n          case 3:\n            response = _context2.sent;\n            messageCallback(response.data.succeed, response.data.message);\n            console.log(\"\");\n\n            if (response.data.succeed) {\n              _context2.next = 10;\n              break;\n            }\n\n            dispatch({\n              type: CATEGORY_ERROR,\n              payload: response.data.message\n            });\n            _context2.next = 14;\n            break;\n\n          case 10:\n            _context2.next = 12;\n            return _regeneratorRuntime.awrap(dispatch({\n              type: GET_CATEGORIES,\n              payload: response.data.content\n            }));\n\n          case 12:\n            _context2.next = 14;\n            return _regeneratorRuntime.awrap(doneCallback());\n\n          case 14:\n            _context2.next = 21;\n            break;\n\n          case 16:\n            _context2.prev = 16;\n            _context2.t0 = _context2[\"catch\"](0);\n            error = \"Something went wrong. Please try again later...\";\n            dispatch({\n              type: CATEGORY_ERROR,\n              payload: error\n            });\n            messageCallback(false, error);\n\n          case 21:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 16]]);\n  };\n};","map":{"version":3,"sources":["/Users/kaka/Desktop/my-expenses/web/src/redux/category/actions.js"],"names":["CREATE_CATEGORY","CATEGORY_ERROR","GET_CATEGORIES","createCategoryAsync","serverCall","doneCallback","messageCallback","succeed","message","dispatch","response","data","type","payload","content","error","getCategoriesAsync","console","log"],"mappings":";AAAA,SAASA,eAAT,EAA0BC,cAA1B,EAA0CC,cAA1C,QAAgE,SAAhE;AAEA,OAAO,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,CACjCC,UADiC,EAEjCC,YAFiC;AAAA,MAGjCC,eAHiC,uEAGf,UAACC,OAAD,EAAUC,OAAV,EAAsB,CAAE,CAHT;AAAA,SAI9B,iBAAMC,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEsBL,UAAU,EAFhC;;AAAA;AAEKM,YAAAA,QAFL;AAIDJ,YAAAA,eAAe,CAACI,QAAQ,CAACC,IAAT,CAAcJ,OAAf,EAAwBG,QAAQ,CAACC,IAAT,CAAcH,OAAtC,CAAf;;AACA,gBAAI,CAACE,QAAQ,CAACC,IAAT,CAAcJ,OAAnB,EAA4B;AAC1BE,cAAAA,QAAQ,CAAC;AAAEG,gBAAAA,IAAI,EAAEX,cAAR;AAAwBY,gBAAAA,OAAO,EAAEH,QAAQ,CAACC,IAAT,CAAcH;AAA/C,eAAD,CAAR;AACD,aAFD,MAEO;AACLC,cAAAA,QAAQ,CAAC;AACPG,gBAAAA,IAAI,EAAEZ,eADC;AAEPa,gBAAAA,OAAO,EAAEH,QAAQ,CAACC,IAAT,CAAcG;AAFhB,eAAD,CAAR;AAIAT,cAAAA,YAAY;AACb;;AAbA;AAAA;;AAAA;AAAA;AAAA;AAeKU,YAAAA,KAfL,GAea,+CAfb;AAgBDN,YAAAA,QAAQ,CAAC;AAAEG,cAAAA,IAAI,EAAEX,cAAR;AAAwBY,cAAAA,OAAO,EAAEE;AAAjC,aAAD,CAAR;AACAT,YAAAA,eAAe,CAAC,KAAD,EAAQS,KAAR,CAAf;;AAjBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAJ8B;AAAA,CAA5B;AAyBP,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAChCZ,UADgC,EAEhCC,YAFgC;AAAA,MAGhCC,eAHgC,uEAGd,UAACC,OAAD,EAAUC,OAAV,EAAsB,CAAE,CAHV;AAAA,SAI7B,kBAAMC,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEsBL,UAAU,EAFhC;;AAAA;AAEKM,YAAAA,QAFL;AAIDJ,YAAAA,eAAe,CAACI,QAAQ,CAACC,IAAT,CAAcJ,OAAf,EAAwBG,QAAQ,CAACC,IAAT,CAAcH,OAAtC,CAAf;AAEAS,YAAAA,OAAO,CAACC,GAAR,CAAY,EAAZ;;AANC,gBASIR,QAAQ,CAACC,IAAT,CAAcJ,OATlB;AAAA;AAAA;AAAA;;AAUCE,YAAAA,QAAQ,CAAC;AAAEG,cAAAA,IAAI,EAAEX,cAAR;AAAwBY,cAAAA,OAAO,EAAEH,QAAQ,CAACC,IAAT,CAAcH;AAA/C,aAAD,CAAR;AAVD;AAAA;;AAAA;AAAA;AAAA,6CAYOC,QAAQ,CAAC;AACbG,cAAAA,IAAI,EAAEV,cADO;AAEbW,cAAAA,OAAO,EAAEH,QAAQ,CAACC,IAAT,CAAcG;AAFV,aAAD,CAZf;;AAAA;AAAA;AAAA,6CAgBOT,YAAY,EAhBnB;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAmBKU,YAAAA,KAnBL,GAmBa,iDAnBb;AAoBDN,YAAAA,QAAQ,CAAC;AAAEG,cAAAA,IAAI,EAAEX,cAAR;AAAwBY,cAAAA,OAAO,EAAEE;AAAjC,aAAD,CAAR;AACAT,YAAAA,eAAe,CAAC,KAAD,EAAQS,KAAR,CAAf;;AArBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAJ6B;AAAA,CAA3B","sourcesContent":["import { CREATE_CATEGORY, CATEGORY_ERROR, GET_CATEGORIES } from \"./types\";\n\nexport const createCategoryAsync = (\n  serverCall,\n  doneCallback,\n  messageCallback = (succeed, message) => {}\n) => async dispatch => {\n  try {\n    const response = await serverCall();\n\n    messageCallback(response.data.succeed, response.data.message);\n    if (!response.data.succeed) {\n      dispatch({ type: CATEGORY_ERROR, payload: response.data.message });\n    } else {\n      dispatch({\n        type: CREATE_CATEGORY,\n        payload: response.data.content\n      });\n      doneCallback();\n    }\n  } catch (err) {\n    const error = \"Something went wrong. Please try again later.\";\n    dispatch({ type: CATEGORY_ERROR, payload: error });\n    messageCallback(false, error);\n  }\n};\n\nexport const getCategoriesAsync = (\n  serverCall,\n  doneCallback,\n  messageCallback = (succeed, message) => {}\n) => async dispatch => {\n  try {\n    const response = await serverCall();\n\n    messageCallback(response.data.succeed, response.data.message);\n\n    console.log(\"\")\n\n    \n    if (!response.data.succeed) {\n      dispatch({ type: CATEGORY_ERROR, payload: response.data.message });\n    } else {\n      await dispatch({\n        type: GET_CATEGORIES,\n        payload: response.data.content\n      });\n      await doneCallback();\n    }\n  } catch (err) {\n    const error = \"Something went wrong. Please try again later...\";\n    dispatch({ type: CATEGORY_ERROR, payload: error });\n    messageCallback(false, error);\n  }\n};\n"]},"metadata":{},"sourceType":"module"}