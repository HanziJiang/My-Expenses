{"ast":null,"code":"import _classCallCheck from \"/Users/kaka/Desktop/my-expenses/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/kaka/Desktop/my-expenses/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/kaka/Desktop/my-expenses/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/kaka/Desktop/my-expenses/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/kaka/Desktop/my-expenses/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/kaka/Desktop/my-expenses/web/src/views/app/expenses/browseAll/AddNewModal.js\";\nimport React, { Component } from \"react\";\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, Label } from \"reactstrap\";\nimport { connect } from \"react-redux\";\nimport IntlMessages from \"../../../../helpers/IntlMessages\";\nimport { NotificationManager } from \"../../../../components/common/react-notifications\";\nimport { createCategory } from \"../../../../helpers/Server/Category\";\nimport { createCategoryAsync } from \"../../../../redux/actions\";\n\nvar AddNewModal =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddNewModal, _Component);\n\n  function AddNewModal(props) {\n    var _this;\n\n    _classCallCheck(this, AddNewModal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddNewModal).call(this, props));\n\n    _this.handleNameChange = function (event) {\n      _this.setState({\n        name: event.target.value\n      });\n    };\n\n    _this.handleAmountChange = function (event) {\n      _this.setState({\n        amount: event.target.value\n      });\n    };\n\n    _this.handleTimeChange = function (time) {\n      _this.setState({\n        time: time\n      });\n    };\n\n    _this.handleDescriptionChange = function (event) {\n      _this.setState({\n        description: event.target.value\n      });\n    };\n\n    _this.handleCategoryChange = function (category) {\n      _this.setState({\n        category: category\n      });\n    };\n\n    _this.setLoading = function (isLoading) {\n      _this.setState({\n        loading: isLoading\n      });\n    };\n\n    _this.handleSubmit = function () {\n      if (_this.isValidInput() && !_this.state.loading) {\n        var _this$props = _this.props,\n            toggleModal = _this$props.toggleModal,\n            _createCategoryAsync = _this$props.createCategoryAsync,\n            updateCategories = _this$props.updateCategories;\n        toggleModal();\n        var categoryInfo = {\n          name: _this.state.name\n        };\n\n        _this.setLoading(true);\n\n        var serverCall = function serverCall() {\n          return createCategory(categoryInfo);\n        };\n\n        _createCategoryAsync(serverCall, function () {\n          _this.setLoading(false);\n\n          updateCategories();\n        }, function (succeed, message) {\n          _this.setLoading(false);\n\n          if (succeed) {\n            NotificationManager.success(message, \"Success\", 3000, null, null, \"\");\n          } else {\n            NotificationManager.error(message, \"Create Category Fail\", 3000, null, null, \"\");\n          }\n        });\n      }\n    };\n\n    _this.state = {\n      name: \"\",\n      description: \"\",\n      loading: false\n    };\n    return _this;\n  }\n\n  _createClass(AddNewModal, [{\n    key: \"isValidInput\",\n    value: function isValidInput() {\n      if (!this.state.name) {\n        NotificationManager.warning(\"Please enter a category name.\", \"Invalid input\", 3000, null, null, \"\");\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          modalOpen = _this$props2.modalOpen,\n          toggleModal = _this$props2.toggleModal;\n      return React.createElement(Modal, {\n        isOpen: modalOpen,\n        toggle: toggleModal,\n        wrapClassName: \"modal-right\",\n        backdrop: \"static\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(ModalHeader, {\n        toggle: toggleModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(IntlMessages, {\n        id: \"categories.add-new-category\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      })), React.createElement(ModalBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(IntlMessages, {\n        id: \"categories.name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      })), React.createElement(Input, {\n        onChange: this.handleNameChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }), React.createElement(Label, {\n        className: \"mt-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(IntlMessages, {\n        id: \"categories.description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      })), React.createElement(Input, {\n        type: \"textarea\",\n        onChange: this.handleDescriptionChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      })), React.createElement(ModalFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"primary\",\n        outline: true,\n        onClick: toggleModal,\n        className: \"btn-shadow btn-multiple-state \".concat(this.state.loading ? \"show-spinner\" : \"\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(IntlMessages, {\n        id: \"genaral.cancel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      })), React.createElement(Button, {\n        color: \"primary\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"spinner d-inline-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"bounce1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"bounce2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"bounce3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(IntlMessages, {\n        id: \"general.submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }))), \" \"));\n    }\n  }]);\n\n  return AddNewModal;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    categories: state.category.categories\n  };\n};\n\nexport default connect(mapStateToProps, {\n  createCategoryAsync: createCategoryAsync\n})(AddNewModal);","map":{"version":3,"sources":["/Users/kaka/Desktop/my-expenses/web/src/views/app/expenses/browseAll/AddNewModal.js"],"names":["React","Component","Button","Modal","ModalHeader","ModalBody","ModalFooter","Input","Label","connect","IntlMessages","NotificationManager","createCategory","createCategoryAsync","AddNewModal","props","handleNameChange","event","setState","name","target","value","handleAmountChange","amount","handleTimeChange","time","handleDescriptionChange","description","handleCategoryChange","category","setLoading","isLoading","loading","handleSubmit","isValidInput","state","toggleModal","updateCategories","categoryInfo","serverCall","succeed","message","success","error","warning","modalOpen","mapStateToProps","categories"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Button,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Input,\n  Label\n} from \"reactstrap\";\nimport { connect } from \"react-redux\";\n\nimport IntlMessages from \"../../../../helpers/IntlMessages\";\nimport { NotificationManager } from \"../../../../components/common/react-notifications\";\nimport { createCategory } from \"../../../../helpers/Server/Category\";\nimport { createCategoryAsync } from \"../../../../redux/actions\";\n\nclass AddNewModal extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      description: \"\",\n      loading: false\n    };\n  }\n\n  handleNameChange = event => {\n    this.setState({ name: event.target.value });\n  };\n\n  handleAmountChange = event => {\n    this.setState({ amount: event.target.value });\n  };\n\n  handleTimeChange = time => {\n    this.setState({ time });\n  };\n\n  handleDescriptionChange = event => {\n    this.setState({ description: event.target.value });\n  };\n\n  handleCategoryChange = category => {\n    this.setState({ category });\n  };\n\n  setLoading = isLoading => {\n    this.setState({ loading: isLoading });\n  };\n\n  isValidInput() {\n    if (!this.state.name) {\n      NotificationManager.warning(\n        \"Please enter a category name.\",\n        \"Invalid input\",\n        3000,\n        null,\n        null,\n        \"\"\n      );\n      return false;\n    }\n    return true;\n  }\n\n  handleSubmit = () => {\n    if (this.isValidInput() && !this.state.loading) {\n      const { toggleModal, createCategoryAsync, updateCategories } = this.props;\n      toggleModal();\n      const categoryInfo = {\n        name: this.state.name\n      };\n      this.setLoading(true);\n      const serverCall = () => createCategory(categoryInfo);\n      createCategoryAsync(\n        serverCall,\n        () => {\n          this.setLoading(false);\n          updateCategories();\n        },\n        (succeed, message) => {\n          this.setLoading(false);\n          if (succeed) {\n            NotificationManager.success(\n              message,\n              \"Success\",\n              3000,\n              null,\n              null,\n              \"\"\n            );\n          } else {\n            NotificationManager.error(\n              message,\n              \"Create Category Fail\",\n              3000,\n              null,\n              null,\n              \"\"\n            );\n          }\n        }\n      );\n    }\n  };\n\n  render() {\n    const { modalOpen, toggleModal } = this.props;\n    return (\n      <Modal\n        isOpen={modalOpen}\n        toggle={toggleModal}\n        wrapClassName=\"modal-right\"\n        backdrop=\"static\"\n      >\n        <ModalHeader toggle={toggleModal}>\n          <IntlMessages id=\"categories.add-new-category\" />\n        </ModalHeader>\n        <ModalBody>\n          <Label>\n            <IntlMessages id=\"categories.name\" />\n          </Label>\n          <Input onChange={this.handleNameChange} />\n          <Label className=\"mt-4\">\n            <IntlMessages id=\"categories.description\" />\n          </Label>\n          <Input type=\"textarea\" onChange={this.handleDescriptionChange} />\n        </ModalBody>\n        <ModalFooter>\n          <Button\n            color=\"primary\"\n            outline\n            onClick={toggleModal}\n            className={`btn-shadow btn-multiple-state ${\n              this.state.loading ? \"show-spinner\" : \"\"\n            }`}\n          >\n            <IntlMessages id=\"genaral.cancel\" />\n          </Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>\n            <span className=\"spinner d-inline-block\">\n              <span className=\"bounce1\" />\n              <span className=\"bounce2\" />\n              <span className=\"bounce3\" />\n            </span>\n            <span className=\"label\">\n              <IntlMessages id=\"general.submit\" />\n            </span>\n          </Button>{\" \"}\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    categories: state.category.categories\n  };\n};\n\nexport default connect(mapStateToProps, {\n  createCategoryAsync\n})(AddNewModal);\n"]},"metadata":{},"sourceType":"module"}