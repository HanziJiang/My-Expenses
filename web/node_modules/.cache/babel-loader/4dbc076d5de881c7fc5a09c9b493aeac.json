{"ast":null,"code":"import _classCallCheck from \"/Users/kaka/Desktop/my-expenses/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/kaka/Desktop/my-expenses/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/kaka/Desktop/my-expenses/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/kaka/Desktop/my-expenses/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/kaka/Desktop/my-expenses/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/kaka/Desktop/my-expenses/web/src/views/app/expenses/browseAll/AddNewModal.js\";\nimport React, { Component } from \"react\";\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, Label, InputGroup, InputGroupAddon } from \"reactstrap\";\nimport Select from \"react-select\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { connect } from \"react-redux\";\nimport CustomSelectInput from \"../../../../components/common/CustomSelectInput\";\nimport IntlMessages from \"../../../../helpers/IntlMessages\";\nimport { NotificationManager } from \"../../../../components/common/react-notifications\";\nimport { createExpense } from \"../../../../helpers/Server/Expense\";\nimport { createExpenseAsync } from \"../../../../redux/actions\";\nvar selectData = [{\n  label: \"Cake\",\n  value: \"cake\",\n  key: 0\n}, {\n  label: \"Cupcake\",\n  value: \"cupcake\",\n  key: 1\n}, {\n  label: \"Dessert\",\n  value: \"dessert\",\n  key: 2\n}];\n\nvar AddNewModal =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddNewModal, _Component);\n\n  function AddNewModal(props) {\n    var _this;\n\n    _classCallCheck(this, AddNewModal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddNewModal).call(this, props));\n\n    _this.handleTitleChange = function (event) {\n      _this.setState({\n        name: event.target.value\n      });\n    };\n\n    _this.handleAmountChange = function (event) {\n      _this.setState({\n        amount: event.target.value\n      });\n    };\n\n    _this.handleTimeChange = function (time) {\n      _this.setState({\n        time: time\n      });\n    };\n\n    _this.handleDescriptionChange = function (event) {\n      _this.setState({\n        description: event.target.value\n      });\n    };\n\n    _this.handleCategoryChange = function (category) {\n      _this.setState({\n        category: category\n      });\n    };\n\n    _this.setLoading = function (isLoading) {\n      _this.setState({\n        loading: isLoading\n      });\n    };\n\n    _this.handleSubmit = function () {\n      if (_this.isValidInput() && !_this.state.loading) {\n        var _this$props = _this.props,\n            toggleModal = _this$props.toggleModal,\n            _createExpenseAsync = _this$props.createExpenseAsync,\n            updateExpenses = _this$props.updateExpenses;\n        toggleModal();\n        var expenseInfo = {\n          title: _this.state.name\n        };\n\n        _this.setLoading(true);\n\n        var serverCall = function serverCall() {\n          return createExpense(expenseInfo);\n        };\n\n        _createExpenseAsync(serverCall, function () {\n          _this.setLoading(false);\n\n          updateExpenses();\n        }, function (succeed, message) {\n          _this.setLoading(false);\n\n          if (succeed) {\n            NotificationManager.success(message, \"Success\", 3000, null, null, \"\");\n          } else {\n            NotificationManager.error(message, \"Create Expense Fail\", 3000, null, null, \"\");\n          }\n        });\n      }\n    };\n\n    _this.state = {\n      title: \"\",\n      category: \"\",\n      amount: \"\",\n      time: null,\n      description: \"\",\n      loading: false\n    };\n    return _this;\n  }\n\n  _createClass(AddNewModal, [{\n    key: \"isValidInput\",\n    value: function isValidInput() {\n      if (this.state.title && this.state.amount && this.state.time && this.state.category) return true;\n      NotificationManager.warning(\"Please enter expense information.\", \"Invalid Input\", 3000, null, null, \"\");\n      return false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          modalOpen = _this$props2.modalOpen,\n          toggleModal = _this$props2.toggleModal;\n      return React.createElement(Modal, {\n        isOpen: modalOpen,\n        toggle: toggleModal,\n        wrapClassName: \"modal-right\",\n        backdrop: \"static\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(ModalHeader, {\n        toggle: toggleModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(IntlMessages, {\n        id: \"expenses.add-new-expense\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      })), React.createElement(ModalBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(IntlMessages, {\n        id: \"expenses.title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      })), React.createElement(Input, {\n        onChange: this.handleTitleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(IntlMessages, {\n        id: \"expenses.time\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      })), React.createElement(DatePicker, {\n        className: \"mb-3\",\n        selected: this.state.time,\n        onChange: this.handleTimeChange,\n        showTimeSelect: true,\n        timeIntervals: 15,\n        timeFormat: \"HH:mm\",\n        dateFormat: \"YYYY/MM/DD HH:mm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(IntlMessages, {\n        id: \"expenses.amount\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      })), React.createElement(InputGroup, {\n        className: \"mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(InputGroupAddon, {\n        addonType: \"prepend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \"$\"), React.createElement(Input, {\n        type: \"number\",\n        step: \"0.25\",\n        onChange: this.handleAmountChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(IntlMessages, {\n        id: \"expenses.category\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      })), React.createElement(Select, {\n        components: {\n          Input: CustomSelectInput\n        },\n        className: \"react-select\",\n        classNamePrefix: \"react-select\",\n        name: \"form-field-name\",\n        value: this.state.category,\n        onChange: this.handleChangeCategory,\n        options: selectData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }), React.createElement(Label, {\n        className: \"mt-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(IntlMessages, {\n        id: \"expenses.description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      })), React.createElement(Input, {\n        type: \"textarea\",\n        onChange: this.handleDescriptionChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      })), React.createElement(ModalFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"primary\",\n        outline: true,\n        onClick: toggleModal,\n        className: \"btn-shadow btn-multiple-state \".concat(this.state.loading ? \"show-spinner\" : \"\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(IntlMessages, {\n        id: \"genaral.cancel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      })), React.createElement(Button, {\n        color: \"primary\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"spinner d-inline-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"bounce1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"bounce2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"bounce3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(IntlMessages, {\n        id: \"general.submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }))), \" \"));\n    }\n  }]);\n\n  return AddNewModal;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    expenses: state.expense.expenses\n  };\n};\n\nexport default connect(mapStateToProps, {\n  createExpenseAsync: createExpenseAsync\n})(AddNewModal);","map":{"version":3,"sources":["/Users/kaka/Desktop/my-expenses/web/src/views/app/expenses/browseAll/AddNewModal.js"],"names":["React","Component","Button","Modal","ModalHeader","ModalBody","ModalFooter","Input","Label","InputGroup","InputGroupAddon","Select","DatePicker","connect","CustomSelectInput","IntlMessages","NotificationManager","createExpense","createExpenseAsync","selectData","label","value","key","AddNewModal","props","handleTitleChange","event","setState","name","target","handleAmountChange","amount","handleTimeChange","time","handleDescriptionChange","description","handleCategoryChange","category","setLoading","isLoading","loading","handleSubmit","isValidInput","state","toggleModal","updateExpenses","expenseInfo","title","serverCall","succeed","message","success","error","warning","modalOpen","handleChangeCategory","mapStateToProps","expenses","expense"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Button,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Input,\n  Label,\n  InputGroup,\n  InputGroupAddon\n} from \"reactstrap\";\nimport Select from \"react-select\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { connect } from \"react-redux\";\n\nimport CustomSelectInput from \"../../../../components/common/CustomSelectInput\";\nimport IntlMessages from \"../../../../helpers/IntlMessages\";\nimport { NotificationManager } from \"../../../../components/common/react-notifications\";\nimport { createExpense } from \"../../../../helpers/Server/Expense\";\nimport { createExpenseAsync } from \"../../../../redux/actions\";\n\nconst selectData = [\n  { label: \"Cake\", value: \"cake\", key: 0 },\n  { label: \"Cupcake\", value: \"cupcake\", key: 1 },\n  { label: \"Dessert\", value: \"dessert\", key: 2 }\n];\n\nclass AddNewModal extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: \"\",\n      category: \"\",\n      amount: \"\",\n      time: null,\n      description: \"\",\n      loading: false\n    };\n  }\n\n  handleTitleChange = event => {\n    this.setState({ name: event.target.value });\n  };\n\n  handleAmountChange = event => {\n    this.setState({ amount: event.target.value });\n  };\n\n  handleTimeChange = time => {\n    this.setState({ time });\n  };\n\n  handleDescriptionChange = event => {\n    this.setState({ description: event.target.value });\n  };\n\n  handleCategoryChange = category => {\n    this.setState({ category });\n  };\n\n  setLoading = isLoading => {\n    this.setState({ loading: isLoading });\n  };\n\n  isValidInput() {\n    if (\n      this.state.title &&\n      this.state.amount &&\n      this.state.time &&\n      this.state.category\n    )\n      return true;\n\n    NotificationManager.warning(\n      \"Please enter expense information.\",\n      \"Invalid Input\",\n      3000,\n      null,\n      null,\n      \"\"\n    );\n\n    return false;\n  }\n\n  handleSubmit = () => {\n    if (this.isValidInput() && !this.state.loading) {\n      const { toggleModal, createExpenseAsync, updateExpenses } = this.props;\n      toggleModal();\n      const expenseInfo = {\n        title: this.state.name\n      };\n      this.setLoading(true);\n      const serverCall = () => createExpense(expenseInfo);\n      createExpenseAsync(\n        serverCall,\n        () => {\n          this.setLoading(false);\n          updateExpenses();\n        },\n        (succeed, message) => {\n          this.setLoading(false);\n          if (succeed) {\n            NotificationManager.success(\n              message,\n              \"Success\",\n              3000,\n              null,\n              null,\n              \"\"\n            );\n          } else {\n            NotificationManager.error(\n              message,\n              \"Create Expense Fail\",\n              3000,\n              null,\n              null,\n              \"\"\n            );\n          }\n        }\n      );\n    }\n  };\n\n  render() {\n    const { modalOpen, toggleModal } = this.props;\n    return (\n      <Modal\n        isOpen={modalOpen}\n        toggle={toggleModal}\n        wrapClassName=\"modal-right\"\n        backdrop=\"static\"\n      >\n        <ModalHeader toggle={toggleModal}>\n          <IntlMessages id=\"expenses.add-new-expense\" />\n        </ModalHeader>\n        <ModalBody>\n          <Label>\n            <IntlMessages id=\"expenses.title\" />\n          </Label>\n          <Input onChange={this.handleTitleChange} />\n\n          <label>\n            <IntlMessages id=\"expenses.time\" />\n          </label>\n          <DatePicker\n            className=\"mb-3\"\n            selected={this.state.time}\n            onChange={this.handleTimeChange}\n            showTimeSelect\n            timeIntervals={15}\n            timeFormat=\"HH:mm\"\n            dateFormat=\"YYYY/MM/DD HH:mm\"\n          />\n\n          <label>\n            <IntlMessages id=\"expenses.amount\" />\n          </label>\n          <InputGroup className=\"mb-3\">\n            <InputGroupAddon addonType=\"prepend\">$</InputGroupAddon>\n            <Input\n              type=\"number\"\n              step=\"0.25\"\n              onChange={this.handleAmountChange}\n            />\n          </InputGroup>\n\n          <label>\n            <IntlMessages id=\"expenses.category\" />\n          </label>\n          <Select\n            components={{ Input: CustomSelectInput }}\n            className=\"react-select\"\n            classNamePrefix=\"react-select\"\n            name=\"form-field-name\"\n            value={this.state.category}\n            onChange={this.handleChangeCategory}\n            options={selectData}\n          />\n\n          <Label className=\"mt-4\">\n            <IntlMessages id=\"expenses.description\" />\n          </Label>\n          <Input type=\"textarea\" onChange={this.handleDescriptionChange} />\n        </ModalBody>\n        <ModalFooter>\n          <Button\n            color=\"primary\"\n            outline\n            onClick={toggleModal}\n            className={`btn-shadow btn-multiple-state ${\n              this.state.loading ? \"show-spinner\" : \"\"\n            }`}\n          >\n            <IntlMessages id=\"genaral.cancel\" />\n          </Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>\n            <span className=\"spinner d-inline-block\">\n              <span className=\"bounce1\" />\n              <span className=\"bounce2\" />\n              <span className=\"bounce3\" />\n            </span>\n            <span className=\"label\">\n              <IntlMessages id=\"general.submit\" />\n            </span>\n          </Button>{\" \"}\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    expenses: state.expense.expenses\n  };\n};\n\nexport default connect(mapStateToProps, {\n  createExpenseAsync\n})(AddNewModal);\n"]},"metadata":{},"sourceType":"module"}