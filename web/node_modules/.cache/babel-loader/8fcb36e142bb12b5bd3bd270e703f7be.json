{"ast":null,"code":"import _regeneratorRuntime from \"/Users/kaka/Desktop/my-expenses/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport { CREATE_EXPENSE, GET_EXPENSES, DELETE_EXPENSES, EXPENSE_ERROR } from \"./types\";\nexport var createExpensesAsync = function createExpensesAsync(serverCall, doneCallback) {\n  var messageCallback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (succeed, message) {};\n  return function _callee(dispatch) {\n    var response, error;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(serverCall());\n\n          case 3:\n            response = _context.sent;\n            messageCallback(response.data.succeed, response.data.message);\n\n            if (response.data.succeed) {\n              _context.next = 9;\n              break;\n            }\n\n            dispatch({\n              type: EXPENSE_ERROR,\n              payload: response.data.message\n            });\n            _context.next = 13;\n            break;\n\n          case 9:\n            _context.next = 11;\n            return _regeneratorRuntime.awrap(dispatch({\n              type: CREATE_EXPENSE,\n              payload: response.data.content\n            }));\n\n          case 11:\n            _context.next = 13;\n            return _regeneratorRuntime.awrap(doneCallback());\n\n          case 13:\n            _context.next = 20;\n            break;\n\n          case 15:\n            _context.prev = 15;\n            _context.t0 = _context[\"catch\"](0);\n            error = \"Something went wrong. Please try again later.\";\n            dispatch({\n              type: EXPENSE_ERROR,\n              payload: error\n            });\n            messageCallback(false, error);\n\n          case 20:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 15]]);\n  };\n};\nexport var getExpensesAsync = function getExpensesAsync(serverCall, doneCallback) {\n  var messageCallback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (error) {};\n  return function _callee2(dispatch) {\n    var response, error;\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(serverCall());\n\n          case 3:\n            response = _context2.sent;\n            messageCallback(response.data.succeed, response.data.message);\n\n            if (response.data.succeed) {\n              _context2.next = 9;\n              break;\n            }\n\n            dispatch({\n              type: EXPENSE_ERROR,\n              payload: response.data.message\n            });\n            _context2.next = 13;\n            break;\n\n          case 9:\n            _context2.next = 11;\n            return _regeneratorRuntime.awrap(dispatch({\n              type: GET_EXPENSES,\n              payload: response.data.content\n            }));\n\n          case 11:\n            _context2.next = 13;\n            return _regeneratorRuntime.awrap(doneCallback());\n\n          case 13:\n            _context2.next = 20;\n            break;\n\n          case 15:\n            _context2.prev = 15;\n            _context2.t0 = _context2[\"catch\"](0);\n            error = \"Something went wrong. Please try again later...\";\n            dispatch({\n              type: EXPENSE_ERROR,\n              payload: error\n            });\n            messageCallback(false, error);\n\n          case 20:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 15]]);\n  };\n};\nexport var deleteExpensesAsync = function deleteExpensesAsync(serverCall, doneCallback) {\n  var messageCallback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (error) {};\n  return function _callee3(dispatch) {\n    var response, error;\n    return _regeneratorRuntime.async(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return _regeneratorRuntime.awrap(serverCall());\n\n          case 3:\n            response = _context3.sent;\n            messageCallback(response.data.succeed, response.data.message);\n\n            if (response.data.succeed) {\n              _context3.next = 9;\n              break;\n            }\n\n            dispatch({\n              type: EXPENSE_ERROR,\n              payload: response.data.message\n            });\n            _context3.next = 13;\n            break;\n\n          case 9:\n            _context3.next = 11;\n            return _regeneratorRuntime.awrap(dispatch({\n              type: DELETE_EXPENSESf,\n              payload: response.data.content\n            }));\n\n          case 11:\n            _context3.next = 13;\n            return _regeneratorRuntime.awrap(doneCallback());\n\n          case 13:\n            _context3.next = 20;\n            break;\n\n          case 15:\n            _context3.prev = 15;\n            _context3.t0 = _context3[\"catch\"](0);\n            error = \"Something went wrong. Please try again later...\";\n            dispatch({\n              type: EXPENSE_ERROR,\n              payload: error\n            });\n            messageCallback(false, error);\n\n          case 20:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 15]]);\n  };\n};","map":{"version":3,"sources":["/Users/kaka/Desktop/my-expenses/web/src/redux/expense/actions.js"],"names":["CREATE_EXPENSE","GET_EXPENSES","DELETE_EXPENSES","EXPENSE_ERROR","createExpensesAsync","serverCall","doneCallback","messageCallback","succeed","message","dispatch","response","data","type","payload","content","error","getExpensesAsync","deleteExpensesAsync","DELETE_EXPENSESf"],"mappings":";AAAA,SACEA,cADF,EAEEC,YAFF,EAGEC,eAHF,EAIEC,aAJF,QAKO,SALP;AAOA,OAAO,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAC1BC,UAD0B,EAE1BC,YAF0B;AAAA,MAG1BC,eAH0B,uEAGR,UAACC,OAAD,EAAUC,OAAV,EAAsB,CAAE,CAHhB;AAAA,SAIvB,iBAAMC,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEsBL,UAAU,EAFhC;;AAAA;AAEKM,YAAAA,QAFL;AAIDJ,YAAAA,eAAe,CAACI,QAAQ,CAACC,IAAT,CAAcJ,OAAf,EAAwBG,QAAQ,CAACC,IAAT,CAAcH,OAAtC,CAAf;;AAJC,gBAKIE,QAAQ,CAACC,IAAT,CAAcJ,OALlB;AAAA;AAAA;AAAA;;AAMCE,YAAAA,QAAQ,CAAC;AACPG,cAAAA,IAAI,EAAEV,aADC;AAEPW,cAAAA,OAAO,EAAEH,QAAQ,CAACC,IAAT,CAAcH;AAFhB,aAAD,CAAR;AAND;AAAA;;AAAA;AAAA;AAAA,6CAWOC,QAAQ,CAAC;AACbG,cAAAA,IAAI,EAAEb,cADO;AAEbc,cAAAA,OAAO,EAAEH,QAAQ,CAACC,IAAT,CAAcG;AAFV,aAAD,CAXf;;AAAA;AAAA;AAAA,6CAeOT,YAAY,EAfnB;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAkBKU,YAAAA,KAlBL,GAkBa,+CAlBb;AAmBDN,YAAAA,QAAQ,CAAC;AAAEG,cAAAA,IAAI,EAAEV,aAAR;AAAuBW,cAAAA,OAAO,EAAEE;AAAhC,aAAD,CAAR;AACAT,YAAAA,eAAe,CAAC,KAAD,EAAQS,KAAR,CAAf;;AApBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAJuB;AAAA,CAA5B;AA4BP,OAAO,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAC9BZ,UAD8B,EAE9BC,YAF8B;AAAA,MAG9BC,eAH8B,uEAGZ,UAAAS,KAAK,EAAI,CAAE,CAHC;AAAA,SAI3B,kBAAMN,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEsBL,UAAU,EAFhC;;AAAA;AAEKM,YAAAA,QAFL;AAIDJ,YAAAA,eAAe,CAACI,QAAQ,CAACC,IAAT,CAAcJ,OAAf,EAAwBG,QAAQ,CAACC,IAAT,CAAcH,OAAtC,CAAf;;AAJC,gBAMIE,QAAQ,CAACC,IAAT,CAAcJ,OANlB;AAAA;AAAA;AAAA;;AAOCE,YAAAA,QAAQ,CAAC;AACPG,cAAAA,IAAI,EAAEV,aADC;AAEPW,cAAAA,OAAO,EAAEH,QAAQ,CAACC,IAAT,CAAcH;AAFhB,aAAD,CAAR;AAPD;AAAA;;AAAA;AAAA;AAAA,6CAYOC,QAAQ,CAAC;AACbG,cAAAA,IAAI,EAAEZ,YADO;AAEba,cAAAA,OAAO,EAAEH,QAAQ,CAACC,IAAT,CAAcG;AAFV,aAAD,CAZf;;AAAA;AAAA;AAAA,6CAgBOT,YAAY,EAhBnB;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAmBKU,YAAAA,KAnBL,GAmBa,iDAnBb;AAoBDN,YAAAA,QAAQ,CAAC;AAAEG,cAAAA,IAAI,EAAEV,aAAR;AAAuBW,cAAAA,OAAO,EAAEE;AAAhC,aAAD,CAAR;AACAT,YAAAA,eAAe,CAAC,KAAD,EAAQS,KAAR,CAAf;;AArBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAJ2B;AAAA,CAAzB;AA6BP,OAAO,IAAME,mBAAmB,GAAG,SAAtBA,mBAAsB,CACjCb,UADiC,EAEjCC,YAFiC;AAAA,MAGjCC,eAHiC,uEAGf,UAAAS,KAAK,EAAI,CAAE,CAHI;AAAA,SAI9B,kBAAMN,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEsBL,UAAU,EAFhC;;AAAA;AAEKM,YAAAA,QAFL;AAIDJ,YAAAA,eAAe,CAACI,QAAQ,CAACC,IAAT,CAAcJ,OAAf,EAAwBG,QAAQ,CAACC,IAAT,CAAcH,OAAtC,CAAf;;AAJC,gBAMIE,QAAQ,CAACC,IAAT,CAAcJ,OANlB;AAAA;AAAA;AAAA;;AAOCE,YAAAA,QAAQ,CAAC;AACPG,cAAAA,IAAI,EAAEV,aADC;AAEPW,cAAAA,OAAO,EAAEH,QAAQ,CAACC,IAAT,CAAcH;AAFhB,aAAD,CAAR;AAPD;AAAA;;AAAA;AAAA;AAAA,6CAYOC,QAAQ,CAAC;AACbG,cAAAA,IAAI,EAAEM,gBADO;AAEbL,cAAAA,OAAO,EAAEH,QAAQ,CAACC,IAAT,CAAcG;AAFV,aAAD,CAZf;;AAAA;AAAA;AAAA,6CAgBOT,YAAY,EAhBnB;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAmBKU,YAAAA,KAnBL,GAmBa,iDAnBb;AAoBDN,YAAAA,QAAQ,CAAC;AAAEG,cAAAA,IAAI,EAAEV,aAAR;AAAuBW,cAAAA,OAAO,EAAEE;AAAhC,aAAD,CAAR;AACAT,YAAAA,eAAe,CAAC,KAAD,EAAQS,KAAR,CAAf;;AArBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAJ8B;AAAA,CAA5B","sourcesContent":["import {\n  CREATE_EXPENSE,\n  GET_EXPENSES,\n  DELETE_EXPENSES,\n  EXPENSE_ERROR\n} from \"./types\";\n\nexport const createExpensesAsync = (\n         serverCall,\n         doneCallback,\n         messageCallback = (succeed, message) => {}\n       ) => async dispatch => {\n         try {\n           const response = await serverCall();\n\n           messageCallback(response.data.succeed, response.data.message);\n           if (!response.data.succeed) {\n             dispatch({\n               type: EXPENSE_ERROR,\n               payload: response.data.message\n             });\n           } else {\n             await dispatch({\n               type: CREATE_EXPENSE,\n               payload: response.data.content\n             });\n             await doneCallback();\n           }\n         } catch (err) {\n           const error = \"Something went wrong. Please try again later.\";\n           dispatch({ type: EXPENSE_ERROR, payload: error });\n           messageCallback(false, error);\n         }\n       };\n\nexport const getExpensesAsync = (\n  serverCall,\n  doneCallback,\n  messageCallback = error => {}\n) => async dispatch => {\n  try {\n    const response = await serverCall();\n\n    messageCallback(response.data.succeed, response.data.message);\n\n    if (!response.data.succeed) {\n      dispatch({\n        type: EXPENSE_ERROR,\n        payload: response.data.message\n      });\n    } else {\n      await dispatch({\n        type: GET_EXPENSES,\n        payload: response.data.content\n      });\n      await doneCallback();\n    }\n  } catch (err) {\n    const error = \"Something went wrong. Please try again later...\";\n    dispatch({ type: EXPENSE_ERROR, payload: error });\n    messageCallback(false, error);\n  }\n};\n\nexport const deleteExpensesAsync = (\n  serverCall,\n  doneCallback,\n  messageCallback = error => {}\n) => async dispatch => {\n  try {\n    const response = await serverCall();\n\n    messageCallback(response.data.succeed, response.data.message);\n\n    if (!response.data.succeed) {\n      dispatch({\n        type: EXPENSE_ERROR,\n        payload: response.data.message\n      });\n    } else {\n      await dispatch({\n        type: DELETE_EXPENSESf,\n        payload: response.data.content\n      });\n      await doneCallback();\n    }\n  } catch (err) {\n    const error = \"Something went wrong. Please try again later...\";\n    dispatch({ type: EXPENSE_ERROR, payload: error });\n    messageCallback(false, error);\n  }\n};\n"]},"metadata":{},"sourceType":"module"}