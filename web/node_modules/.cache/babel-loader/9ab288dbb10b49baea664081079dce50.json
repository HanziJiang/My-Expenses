{"ast":null,"code":"import _regeneratorRuntime from \"/Users/kaka/Desktop/my-expenses/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport { CREATE_EXPENSE, GE, EXPENSE_ERROR } from \"./types\";\nexport var createExpensesAsync = function createExpensesAsync(serverCall, doneCallback) {\n  var errorCallback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (error) {};\n  return function _callee(dispatch) {\n    var response, error;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(serverCall());\n\n          case 3:\n            response = _context.sent;\n            messageCallback(response.data.succeed, response.data.message);\n\n            if (response.data.succeed) {\n              _context.next = 9;\n              break;\n            }\n\n            dispatch({\n              type: EXPENSE_ERROR,\n              payload: response.data.message\n            });\n            _context.next = 13;\n            break;\n\n          case 9:\n            _context.next = 11;\n            return _regeneratorRuntime.awrap(dispatch({\n              type: CREATE_EXPENSE,\n              payload: response.data.content\n            }));\n\n          case 11:\n            _context.next = 13;\n            return _regeneratorRuntime.awrap(doneCallback());\n\n          case 13:\n            _context.next = 20;\n            break;\n\n          case 15:\n            _context.prev = 15;\n            _context.t0 = _context[\"catch\"](0);\n            error = \"Something went wrong. Please try again later.\";\n            dispatch({\n              type: EXPENSE_ERROR,\n              payload: error\n            });\n            messageCallback(false, error);\n\n          case 20:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 15]]);\n  };\n};\nexport var getExpensesAsync = function getExpensesAsync(serverCall, doneCallback) {\n  var errorCallback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (error) {};\n  return function _callee2(dispatch) {\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    });\n  };\n};\nexport var deleteExpensesAsync = function deleteExpensesAsync(serverCall, doneCallback) {\n  var errorCallback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (error) {};\n  return function _callee3(dispatch) {\n    return _regeneratorRuntime.async(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    });\n  };\n};","map":{"version":3,"sources":["/Users/kaka/Desktop/my-expenses/web/src/redux/expense/actions.js"],"names":["CREATE_EXPENSE","GE","EXPENSE_ERROR","createExpensesAsync","serverCall","doneCallback","errorCallback","error","dispatch","response","messageCallback","data","succeed","message","type","payload","content","getExpensesAsync","deleteExpensesAsync"],"mappings":";AAAA,SAASA,cAAT,EAAyBC,EAAzB,EAA6BC,aAA7B,QAAkD,SAAlD;AAEA,OAAO,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,CACjCC,UADiC,EAEjCC,YAFiC;AAAA,MAGjCC,aAHiC,uEAGjB,UAAAC,KAAK,EAAI,CAAE,CAHM;AAAA,SAI9B,iBAAMC,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEsBJ,UAAU,EAFhC;;AAAA;AAEKK,YAAAA,QAFL;AAIDC,YAAAA,eAAe,CAACD,QAAQ,CAACE,IAAT,CAAcC,OAAf,EAAwBH,QAAQ,CAACE,IAAT,CAAcE,OAAtC,CAAf;;AAJC,gBAKIJ,QAAQ,CAACE,IAAT,CAAcC,OALlB;AAAA;AAAA;AAAA;;AAMCJ,YAAAA,QAAQ,CAAC;AACPM,cAAAA,IAAI,EAAEZ,aADC;AAEPa,cAAAA,OAAO,EAAEN,QAAQ,CAACE,IAAT,CAAcE;AAFhB,aAAD,CAAR;AAND;AAAA;;AAAA;AAAA;AAAA,6CAWOL,QAAQ,CAAC;AACbM,cAAAA,IAAI,EAAEd,cADO;AAEbe,cAAAA,OAAO,EAAEN,QAAQ,CAACE,IAAT,CAAcK;AAFV,aAAD,CAXf;;AAAA;AAAA;AAAA,6CAeOX,YAAY,EAfnB;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAkBKE,YAAAA,KAlBL,GAkBa,+CAlBb;AAmBDC,YAAAA,QAAQ,CAAC;AAAEM,cAAAA,IAAI,EAAEZ,aAAR;AAAuBa,cAAAA,OAAO,EAAER;AAAhC,aAAD,CAAR;AACAG,YAAAA,eAAe,CAAC,KAAD,EAAQH,KAAR,CAAf;;AApBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAJ8B;AAAA,CAA5B;AA4BP,OAAO,IAAMU,gBAAgB,GAAG,SAAnBA,gBAAmB,CAC9Bb,UAD8B,EAE9BC,YAF8B;AAAA,MAG9BC,aAH8B,uEAGd,UAAAC,KAAK,EAAI,CAAE,CAHG;AAAA,SAI3B,kBAAMC,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAJ2B;AAAA,CAAzB;AAMP,OAAO,IAAMU,mBAAmB,GAAG,SAAtBA,mBAAsB,CACjCd,UADiC,EAEjCC,YAFiC;AAAA,MAGjCC,aAHiC,uEAGjB,UAAAC,KAAK,EAAI,CAAE,CAHM;AAAA,SAI9B,kBAAMC,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAJ8B;AAAA,CAA5B","sourcesContent":["import { CREATE_EXPENSE, GE, EXPENSE_ERROR } from \"./types\";\n\nexport const createExpensesAsync = (\n  serverCall,\n  doneCallback,\n  errorCallback = error => {}\n) => async dispatch => {\n  try {\n    const response = await serverCall();\n\n    messageCallback(response.data.succeed, response.data.message);\n    if (!response.data.succeed) {\n      dispatch({\n        type: EXPENSE_ERROR,\n        payload: response.data.message\n      });\n    } else {\n      await dispatch({\n        type: CREATE_EXPENSE,\n        payload: response.data.content\n      });\n      await doneCallback();\n    }\n  } catch (err) {\n    const error = \"Something went wrong. Please try again later.\";\n    dispatch({ type: EXPENSE_ERROR, payload: error });\n    messageCallback(false, error);\n  }\n};\n\nexport const getExpensesAsync = (\n  serverCall,\n  doneCallback,\n  errorCallback = error => {}\n) => async dispatch => {};\n\nexport const deleteExpensesAsync = (\n  serverCall,\n  doneCallback,\n  errorCallback = error => {}\n) => async dispatch => {};\n"]},"metadata":{},"sourceType":"module"}